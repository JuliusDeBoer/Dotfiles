#!/bin/bash
#############################################################################
# ██╗███╗   ██╗███████╗████████╗ █████╗ ██╗     ██╗        ███████╗██╗  ██╗ #
# ██║████╗  ██║██╔════╝╚══██╔══╝██╔══██╗██║     ██║        ██╔════╝██║  ██║ #
# ██║██╔██╗ ██║███████╗   ██║   ███████║██║     ██║        ███████╗███████║ #
# ██║██║╚██╗██║╚════██║   ██║   ██╔══██║██║     ██║        ╚════██║██╔══██║ #
# ██║██║ ╚████║███████║   ██║   ██║  ██║███████╗███████╗██╗███████║██║  ██║ #
# ╚═╝╚═╝  ╚═══╝╚══════╝   ╚═╝   ╚═╝  ╚═╝╚══════╝╚══════╝╚═╝╚══════╝╚═╝  ╚═╝ #
#############################################################################
# Create symlinks for dotfiles

DIR="$(pwd)"
BACKUP_DIR="backup"
FILES=(".zshrc" ".p10k.zsh" ".gitconfig" ".vimrc" ".aliases")

echo "Using backup dir: ${BACKUP_DIR}"
echo

for FILE in ${FILES[@]}; do
	echo -ne "${FILE}...\r"
	if [ -f ${HOME}/${FILE} ]; then
		mkdir -p "${BACKUP_DIR}"
		cp -H "${HOME}/${FILE}" "${BACKUP_DIR}/${FILE}"
	fi

	ln -s -f "${DIR}/${FILE}" "${HOME}/${FILE}"
	
	echo -ne "${FILE}: Done!\r\n"
done
